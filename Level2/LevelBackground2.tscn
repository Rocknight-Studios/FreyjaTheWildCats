[gd_scene load_steps=59 format=2]

[ext_resource path="res://Level2/LevelBackground/BackgroundImage0/BackgroundImage0.tscn" type="PackedScene" id=1]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage0/BackgroundImage0.gd" type="Script" id=2]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage1/BackgroundImage1.tscn" type="PackedScene" id=3]
[ext_resource path="res://Level1/LevelBackground/LevelBlock.gd" type="Script" id=4]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage2/BackgroundImage2.tscn" type="PackedScene" id=5]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage3/BackgroundImage3.tscn" type="PackedScene" id=6]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage4/BackgroundImage4.tscn" type="PackedScene" id=7]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage5/BackgroundImage5.tscn" type="PackedScene" id=8]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage6/BackgroundImage6.tscn" type="PackedScene" id=9]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage7/BackgroundImage7.tscn" type="PackedScene" id=10]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage8/BackgroundImage8.tscn" type="PackedScene" id=11]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage9/BackgroundImage9.tscn" type="PackedScene" id=12]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage10/BackgroundImage10.tscn" type="PackedScene" id=13]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage11/BackgroundImage11.tscn" type="PackedScene" id=14]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage12/BackgroundImage12.tscn" type="PackedScene" id=15]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage13/BackgroundImage13.tscn" type="PackedScene" id=16]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage14/BackgroundImage14.tscn" type="PackedScene" id=17]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage15/BackgroundImage15.tscn" type="PackedScene" id=18]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage16/BackgroundImage16.tscn" type="PackedScene" id=19]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage17/BackgroundImage17.tscn" type="PackedScene" id=20]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage18/BackgroundImage18.tscn" type="PackedScene" id=21]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage19/BackgroundImage19.tscn" type="PackedScene" id=22]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage20/BackgroundImage20.tscn" type="PackedScene" id=23]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage21/BackgroundImage21.tscn" type="PackedScene" id=24]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage22/BackgroundImage22.tscn" type="PackedScene" id=25]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage23/BackgroundImage23.tscn" type="PackedScene" id=26]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage24/BackgroundImage24.tscn" type="PackedScene" id=27]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage25/BackgroundImage25.tscn" type="PackedScene" id=28]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage26/BackgroundImage26.tscn" type="PackedScene" id=29]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage27/BackgroundImage27.tscn" type="PackedScene" id=30]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage28/BackgroundImage28.tscn" type="PackedScene" id=31]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage29/BackgroundImage29.tscn" type="PackedScene" id=32]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage30/BackgroundImage30.tscn" type="PackedScene" id=33]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage31/BackgroundImage31.tscn" type="PackedScene" id=34]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage32/BackgroundImage32.tscn" type="PackedScene" id=35]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage33/BackgroundImage33.tscn" type="PackedScene" id=36]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage34/BackgroundImage34.tscn" type="PackedScene" id=37]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage35/BackgroundImage35.tscn" type="PackedScene" id=38]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage36/BackgroundImage36.tscn" type="PackedScene" id=39]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage37/BackgroundImage37.tscn" type="PackedScene" id=40]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage38/BackgroundImage38.tscn" type="PackedScene" id=41]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage39/BackgoundImage39.tscn" type="PackedScene" id=42]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage40/BackgroundImage40.tscn" type="PackedScene" id=43]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage41/BackgroundImage41.tscn" type="PackedScene" id=44]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage42/BackgroundImage42.tscn" type="PackedScene" id=45]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage43/BackgroundImage43.tscn" type="PackedScene" id=46]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage44/BackgroundImage44.tscn" type="PackedScene" id=47]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage45/BackgroundImage45.tscn" type="PackedScene" id=48]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage46/BackgroundImage46.tscn" type="PackedScene" id=49]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage47/BackgroundImage47.tscn" type="PackedScene" id=50]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage48/BackgroundImage48.tscn" type="PackedScene" id=51]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage49/BackgroundImage49.tscn" type="PackedScene" id=52]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage50/BackgroundImage50.tscn" type="PackedScene" id=53]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage51/BackgroundImage51.tscn" type="PackedScene" id=54]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage52/BackgroundImage52.tscn" type="PackedScene" id=55]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage53/BackgroundImage53.tscn" type="PackedScene" id=56]
[ext_resource path="res://Level2/LevelBackground/BackgroundImage54/BackgroundImage54.tscn" type="PackedScene" id=57]

[sub_resource type="GDScript" id=1]

script/source = "extends Node2D

export var block_optimization_distance = 2000.0 # Deactivate enemies at this distance.
var blocks = [] # All the enemies of this block.
onready var management_start_time = OS.get_ticks_msec() # To save resources.
var management_pause = 3.0 # How often to check for the new block activity state.
var block_positions = [] # To save resources and have an access to block positions that are removed from the scene tree.

func _ready():
	var child_amount = get_child_count() # For speed and convenience.
	for i in range(0, child_amount):
		blocks.append(get_child(i))
		block_positions.append(blocks[i].get_global_transform().origin)

	yield(get_tree(), \"idle_frame\")
	for i in range(0, child_amount):
		remove_child(blocks[i])
	manage_block_activity()

func _process(delta):
	if OS.get_ticks_msec() - management_start_time > management_pause:
		management_start_time = OS.get_ticks_msec()
		manage_block_activity()

func manage_block_activity():
	for i in range(0, blocks.size()):
		if Global.player.get_global_transform().origin.distance_to(block_positions[i]) > block_optimization_distance:
			if blocks[i].get_parent() != null:
				remove_child(blocks[i])
		elif blocks[i].get_parent() == null:
			add_child(blocks[i])

"

[node name="LevelBackground" type="Node2D" index="0"]

position = Vector2( 0, 8 )
script = SubResource( 1 )
_sections_unfolded = [ "Transform" ]
block_optimization_distance = 2000.0

[node name="BackgroundImage0" parent="." index="0" instance=ExtResource( 1 )]

script = ExtResource( 2 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage1" parent="." index="1" instance=ExtResource( 3 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage2" parent="." index="2" instance=ExtResource( 5 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage3" parent="." index="3" instance=ExtResource( 6 )]

script = ExtResource( 4 )
_sections_unfolded = [ "Transform", "Z Index" ]
enemy_optimization_distance = 3000.0

[node name="BackgroundImage4" parent="." index="4" instance=ExtResource( 7 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage5" parent="." index="5" instance=ExtResource( 8 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage6" parent="." index="6" instance=ExtResource( 9 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage7" parent="." index="7" instance=ExtResource( 10 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage8" parent="." index="8" instance=ExtResource( 11 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage9" parent="." index="9" instance=ExtResource( 12 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage10" parent="." index="10" instance=ExtResource( 13 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage11" parent="." index="11" instance=ExtResource( 14 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage12" parent="." index="12" instance=ExtResource( 15 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage13" parent="." index="13" instance=ExtResource( 16 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage14" parent="." index="14" instance=ExtResource( 17 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage15" parent="." index="15" instance=ExtResource( 18 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage16" parent="." index="16" instance=ExtResource( 19 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage17" parent="." index="17" instance=ExtResource( 20 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage18" parent="." index="18" instance=ExtResource( 21 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage19" parent="." index="19" instance=ExtResource( 22 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage20" parent="." index="20" instance=ExtResource( 23 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage21" parent="." index="21" instance=ExtResource( 24 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage22" parent="." index="22" instance=ExtResource( 25 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage23" parent="." index="23" instance=ExtResource( 26 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage24" parent="." index="24" instance=ExtResource( 27 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage25" parent="." index="25" instance=ExtResource( 28 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage26" parent="." index="26" instance=ExtResource( 29 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage27" parent="." index="27" instance=ExtResource( 30 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage28" parent="." index="28" instance=ExtResource( 31 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage29" parent="." index="29" instance=ExtResource( 32 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage30" parent="." index="30" instance=ExtResource( 33 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage31" parent="." index="31" instance=ExtResource( 34 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage32" parent="." index="32" instance=ExtResource( 35 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage33" parent="." index="33" instance=ExtResource( 36 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage34" parent="." index="34" instance=ExtResource( 37 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage35" parent="." index="35" instance=ExtResource( 38 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage36" parent="." index="36" instance=ExtResource( 39 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage37" parent="." index="37" instance=ExtResource( 40 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage38" parent="." index="38" instance=ExtResource( 41 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage39" parent="." index="39" instance=ExtResource( 42 )]

script = ExtResource( 4 )
_sections_unfolded = [ "Transform" ]
enemy_optimization_distance = 3000.0

[node name="BackgroundImage40" parent="." index="40" instance=ExtResource( 43 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage41" parent="." index="41" instance=ExtResource( 44 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage42" parent="." index="42" instance=ExtResource( 45 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage43" parent="." index="43" instance=ExtResource( 46 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage44" parent="." index="44" instance=ExtResource( 47 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage45" parent="." index="45" instance=ExtResource( 48 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage46" parent="." index="46" instance=ExtResource( 49 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage47" parent="." index="47" instance=ExtResource( 50 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage48" parent="." index="48" instance=ExtResource( 51 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage49" parent="." index="49" instance=ExtResource( 52 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage50" parent="." index="50" instance=ExtResource( 53 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage51" parent="." index="51" instance=ExtResource( 54 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage52" parent="." index="52" instance=ExtResource( 55 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage53" parent="." index="53" instance=ExtResource( 56 )]

script = ExtResource( 4 )
enemy_optimization_distance = 3000.0

[node name="BackgroundImage54" parent="." index="54" instance=ExtResource( 57 )]

position = Vector2( 960, -57780 )
script = ExtResource( 4 )
enemy_optimization_distance = 3000.0


